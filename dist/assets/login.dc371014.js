import{a as r}from"./axios.cb8668c5.js";import{t as d}from"./tete.d86a49e3.js";import{_ as m,l as h,f as u,g as p,m as f,j as t,M as _,A as l,N as c,F as b}from"./index.a6e21bbd.js";const g={components:{tete:d},data(){return{email:"",password:"",isAuthenticated:!1}},methods:{submitForm(){r.post("http://localhost:3004/auth/login",{email:this.email,password:this.password}).then(e=>{localStorage.setItem("isAuthenticated",!0),alert(e.data.message),console.log(e.data),localStorage.setItem("Montoken",e.data.token),this.$router.push("/myproject")}).catch(e=>{alert("identifiants incorrect"),console.log(e)})},created(){const e=localStorage.getItem("isAuthenticated");this.isAuthenticated=e==="true"},beforeMount(){localStorage.getItem("token")&&(this.isAuthenticated=!0)},handleLogout(){this.isAuthenticated=!1,localStorage.removeItem("Montoken")}}},v={class:"vh-100",style:{"background-color":"rgb(186, 183, 183)"}},y={class:"container py-5 h-200"},k={class:"row d-flex justify-content-center align-items-center h-400"},w={class:"col-12 col-md-8 col-lg-6 col-xl-5"},x={class:"card shadow-9-strong",style:{}},A={class:"card-body p-5"},S=t("h3",{class:"mb-5"},"Se connecter",-1),M={class:"mb-4"},E=t("label",{class:"form-label"},"Email",-1),F={class:"mb-4"},I=t("label",{class:"form-label",for:"typePasswordX-2"},"Mot de passe",-1),j=t("div",{class:"form-check d-flex justify-content-start mb-4"},[t("input",{class:"form-check-input",type:"checkbox",value:"",id:"form1Example3"}),t("label",{class:"form-check-label",for:"form1Example3"}," Se souvenir de son mot de passe")],-1),V=t("button",{class:"btn btn-primary btn-lg btn-block",type:"submit"},"connexion",-1),B=t("hr",{class:"my-4"},null,-1);function D(e,o,N,X,s,a){const i=h("tete");return u(),p(b,null,[f(i,{onDeconnect:a.handleLogout,isAuthenticated:s.isAuthenticated},null,8,["onDeconnect","isAuthenticated"]),t("section",v,[t("div",y,[t("div",k,[t("div",w,[t("div",x,[t("div",A,[t("form",{onSubmit:o[2]||(o[2]=_((...n)=>a.submitForm&&a.submitForm(...n),["prevent"]))},[S,t("div",M,[E,l(t("input",{type:"email",id:"typeEmailX-2","onUpdate:modelValue":o[0]||(o[0]=n=>s.email=n),class:"form-control form-control-lg"},null,512),[[c,s.email]])]),t("div",F,[I,l(t("input",{type:"password",id:"typePasswordX-2",class:"form-control form-control-lg","onUpdate:modelValue":o[1]||(o[1]=n=>s.password=n)},null,512),[[c,s.password]])]),j,V],32),B])])])])])])],64)}const C=m(g,[["render",D]]);export{C as default};
